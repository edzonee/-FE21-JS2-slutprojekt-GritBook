{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,mCAIA,MAAMC,EAAUF,EAAAG,IAAIC,EAAAC,GAAI,kBAClBC,EAAWN,EAAAG,IAAIC,EAAAC,GAAI,kBACnBE,EAAUP,EAAAG,IAAIC,EAAAC,GAAI,kBAClBG,EAAYR,EAAAG,IAAIC,EAAAC,GAAI,mBAE1BL,EAAAS,IAAIP,GAASQ,MAAMC,IAEjBC,QAAQC,IAAIF,EAASG,OACrB,MAAMC,EAAWC,OAAOC,OAAON,EAASG,OAClCI,EAAyBC,SAASC,cAAc,gBAChDC,EACJF,SAASC,cAAc,sBACzBF,EAAUI,UAAYP,EAAUA,EAASQ,OAAS,GAAIC,QACtDH,EAAkBC,UAAYP,EAAUA,EAASQ,OAAS,GAAIE,QAEhEzB,EAAAS,IAAIH,GAAUI,MAAMC,IAElBC,QAAQC,IAAIF,EAASG,OACrB,MAAMC,EAAWC,OAAOC,OAAON,EAASG,OAClCY,EAA0BP,SAASC,cAAc,iBACnBD,SAASC,cAAc,kBAC5CE,UAAYP,EAAUA,EAASQ,OAAS,GAAIE,KAC3DC,EAAWJ,UAAYP,EAAUA,EAASQ,OAAS,GAAIC,WAEzDxB,EAAAS,IAAIF,GAASG,MAAMC,IAEjBC,QAAQC,IAAIF,EAASG,OACrB,MAAMC,EAAWC,OAAOC,OAAON,EAASG,OAClCa,EAA0BR,SAASC,cAAc,iBACpBD,SAASC,cAAc,kBAC5CE,UAAYP,EAAUA,EAASQ,OAAS,GAAIE,KAC1DE,EAAWL,UAAYP,EAAUA,EAASQ,OAAS,GAAIC,WAIzDxB,EAAAS,IAAID,GAAWE,MAAMC,IAEnBC,QAAQC,IAAIF,EAASG,OACrB,MAAMc,EAAQZ,OAAOa,KAAKlB,EAASG,OAEhC,IAAE,MAAMgB,KAAQF,EACnB,CACE,MAAMG,EAA2BZ,SAASa,cAAc,OACxDb,SAASc,KAAKC,OAAOH,GACrB,IAAII,EAAkChB,SAASa,cAAc,KAC7DG,EAAUb,UAAYQ,EACtBC,EAASK,YAAYD,GAGrBA,EAAUE,iBAAiB,SAAS,SAAUC,GAE5CC,eAAeC,QAAQ,aAAcL,EAAUM,aAC/CC,OAAOC,SAASC,KAAO,wBAK7BC,EAAAC","sources":["src/modules/home.ts"],"sourcesContent":["import { ref, get } from \"firebase/database\";\r\nimport { db } from \"./firebaseApp\";\r\nimport { logOut } from \"./logout\";\r\n\r\nconst GameRef = ref(db, \"/Topics/Games/\");\r\nconst MusicRef = ref(db, \"/Topics/Music/\");\r\nconst ShowRef = ref(db, \"/Topics/Shows/\");\r\nconst profilRef = ref(db, \"/users/userInfo\");\r\n\r\nget(GameRef).then((snapshot) =>\r\n{\r\n  console.log(snapshot.val());\r\n  const messages = Object.values(snapshot.val());\r\n  const gameTopic: HTMLElement = document.querySelector(\"#gameMessage\");\r\n  const gameTopicUsername: HTMLElement =\r\n    document.querySelector(\"#gameTopicUsername\");\r\n  gameTopic.innerText = messages[ messages.length - 1 ].message;\r\n  gameTopicUsername.innerText = messages[ messages.length - 1 ].name;\r\n});\r\nget(MusicRef).then((snapshot) =>\r\n{\r\n  console.log(snapshot.val());\r\n  const messages = Object.values(snapshot.val());\r\n  const musicTopic: HTMLElement = document.querySelector(\"#musicMessage\");\r\n  const musicTopicName: HTMLElement = document.querySelector(\"#MusicUsername\");\r\n  musicTopicName.innerText = messages[ messages.length - 1 ].name;\r\n  musicTopic.innerText = messages[ messages.length - 1 ].message;\r\n});\r\nget(ShowRef).then((snapshot) =>\r\n{\r\n  console.log(snapshot.val());\r\n  const messages = Object.values(snapshot.val());\r\n  const showsTopic: HTMLElement = document.querySelector(\"#showsMessage\");\r\n  const ShowsUsername: HTMLElement = document.querySelector(\"#ShowsUsername\");\r\n  ShowsUsername.innerText = messages[ messages.length - 1 ].name;\r\n  showsTopic.innerText = messages[ messages.length - 1 ].message;\r\n});\r\n\r\n\r\nget(profilRef).then((snapshot) =>\r\n{\r\n  console.log(snapshot.val());\r\n  const users = Object.keys(snapshot.val());\r\n  //hämtar Arr av alla användare sen loopar vi ut dom på Home.html\r\n  for (const user of users)\r\n  {\r\n    const usersDIV: HTMLDivElement = document.createElement(\"div\");\r\n    document.body.append(usersDIV);\r\n    let usernames: HTMLParagraphElement = document.createElement(\"p\");\r\n    usernames.innerText = user;\r\n    usersDIV.appendChild(usernames);\r\n    //gör ett klickEvent som tar namnet man trycker på och sätter in det i SessionStorage\r\n    //när du tryckt på ett namn så kommer du in i deras profil\r\n    usernames.addEventListener(\"click\", function (e)\r\n    {\r\n      sessionStorage.setItem(\"targetUser\", usernames.textContent);\r\n      window.location.href = \"./profile.html\";\r\n    });\r\n  }\r\n});\r\n\r\nlogOut();"],"names":["$8tedJ","parcelRequire","$b4ed6d51da72616d$var$GameRef","ref","$7McF0","db","$b4ed6d51da72616d$var$MusicRef","$b4ed6d51da72616d$var$ShowRef","$b4ed6d51da72616d$var$profilRef","get","then","snapshot","console","log","val","messages","Object","values","gameTopic","document","querySelector","gameTopicUsername","innerText","length","message","name","musicTopic","showsTopic","users","keys","user","usersDIV","createElement","body","append","usernames","appendChild","addEventListener","e","sessionStorage","setItem","textContent","window","location","href","$9Mg9r","logOut"],"version":3,"file":"home.e203f337.js.map"}